{"version":3,"file":"sectionnav.min.js","sources":["../src/sectionnav.js"],"sourcesContent":["import jQuery from 'jquery';\nimport {call as fetchMany} from 'core/ajax';\n\nexport const sectionnav = (courseid, section) => fetchMany([{\n    methodname: 'theme_boost_union_section_nav',\n    args: {\n        courseid,\n        section\n    }\n}])[0];\n\nexport const init = async(courseid, section) => {\n    jQuery(document).ready(async function() {\n        let result = await sectionnav(courseid, section);\n\n        let prev = jQuery('.section-navigation .prevsection');\n        let next = jQuery('.section-navigation .nextsection');\n\n        if (prev.length > 0 && result.prevlink !== null && result.prevname !== null) {\n            prev.each(function() {\n                let that = jQuery(this).find('a');\n                if (that.length > 0) {\n                    that.html(result.prevname);\n                    that.attr('href', result.prevlink);\n                } else {\n                    jQuery(this).html(\"<a href='\" + result.prevlink + \"'>\" + result.prevname + \"</a>\");\n                }\n                prev.removeClass('d-none');\n            });\n        } else {\n            prev.hide();\n        }\n\n        if (next.length > 0 && result.nextlink !== null && result.nextname !== null) {\n            next.each(function() {\n                let that = jQuery(this).find('a');\n                if (that.length > 0) {\n                    that.html(result.nextname);\n                    that.attr('href', result.nextlink);\n                } else {\n                    jQuery(this).html(\"<a href='\" + result.nextlink + \"'>\" + result.nextname + \"</a>\");\n                }\n                next.removeClass('d-none');\n            });\n        } else {\n            next.hide();\n        }\n    });\n};\n"],"names":["sectionnav","courseid","section","methodname","args","async","document","ready","result","prev","next","length","prevlink","prevname","each","that","this","find","html","attr","removeClass","hide","nextlink","nextname"],"mappings":"gRAGaA,WAAa,CAACC,SAAUC,WAAY,cAAU,CAAC,CACxDC,WAAY,gCACZC,KAAM,CACFH,SAAAA,SACAC,QAAAA,YAEJ,gDAEgBG,MAAMJ,SAAUC,+BACzBI,UAAUC,OAAMF,qBACfG,aAAeR,WAAWC,SAAUC,SAEpCO,MAAO,mBAAO,oCACdC,MAAO,mBAAO,oCAEdD,KAAKE,OAAS,GAAyB,OAApBH,OAAOI,UAAyC,OAApBJ,OAAOK,SACtDJ,KAAKK,MAAK,eACFC,MAAO,mBAAOC,MAAMC,KAAK,KACzBF,KAAKJ,OAAS,GACdI,KAAKG,KAAKV,OAAOK,UACjBE,KAAKI,KAAK,OAAQX,OAAOI,+BAElBI,MAAME,KAAK,YAAcV,OAAOI,SAAW,KAAOJ,OAAOK,SAAW,QAE/EJ,KAAKW,YAAY,aAGrBX,KAAKY,OAGLX,KAAKC,OAAS,GAAyB,OAApBH,OAAOc,UAAyC,OAApBd,OAAOe,SACtDb,KAAKI,MAAK,eACFC,MAAO,mBAAOC,MAAMC,KAAK,KACzBF,KAAKJ,OAAS,GACdI,KAAKG,KAAKV,OAAOe,UACjBR,KAAKI,KAAK,OAAQX,OAAOc,+BAElBN,MAAME,KAAK,YAAcV,OAAOc,SAAW,KAAOd,OAAOe,SAAW,QAE/Eb,KAAKU,YAAY,aAGrBV,KAAKW"}