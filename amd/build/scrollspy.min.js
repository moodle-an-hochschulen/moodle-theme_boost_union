define("theme_boost_union/scrollspy",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;
/**
   * Theme Boost Union - JS code scroll-spy
   *
   * @module     theme_boost_union/scrollspy
   * @copyright  2022 Josha Bartsch <bartsch@itc.rwth-aachen.de>
   * @copyright  based on code from theme_fordson by Chris Kenniburg.
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const initScrollSpy=()=>{if(document.querySelector(".section.main")){let editToggle=document.querySelector("form.editmode-switch-form");if(!editToggle)return;if(editToggle.addEventListener("click",(()=>{window.sessionStorage.setItem("edittoggled",!0);let viewporttop=window.scrollY,closest=null,closestoffset=null;document.querySelectorAll(".section.main").forEach((node=>{let thisoffset=node.offsetTop;closest&&closest.offsetTop&&(closestoffset=closest.offsetTop),(null===closest||Math.abs(thisoffset-viewporttop)<Math.abs(closestoffset-viewporttop))&&(closest=node)})),window.sessionStorage.setItem("closestid",closest.id),window.sessionStorage.setItem("closestdelta",viewporttop-closest.offsetTop)})),window.sessionStorage.getItem("edittoggled")){let closestid=window.sessionStorage.getItem("closestid"),closestdelta=window.sessionStorage.getItem("closestdelta");if(closestid&&closestdelta){let y=document.getElementById(closestid).offsetTop+parseInt(closestdelta);window.scrollTo(0,y)}window.sessionStorage.removeItem("edittoggled"),window.sessionStorage.removeItem("closestid"),window.sessionStorage.removeItem("closestdelta")}}};_exports.init=()=>{var callback;callback=initScrollSpy,"complete"===document.readyState||"interactive"===document.readyState?setTimeout(callback,1):document.addEventListener("DOMContentLoaded",callback)}}));

//# sourceMappingURL=scrollspy.min.js.map