define("theme_boost_union/course_format/section-summary",["exports","jquery"],(function(_exports,_jquery){var obj;
/**
   * Theme Boost Union - JS for topics course format addition to realize always visible section summary.
   *
   * @module     theme_boost_union/section-summary
   * @copyright  2023 Mario Wehr <m.wehr@fh-kaernten.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};const MOVE_DIRECTION_MOVE_IN="move-in",MOVE_DIRECTION_MOVE_OUT="move-out",OneRem=parseFloat(getComputedStyle(document.documentElement).fontSize);function setCollapseStyles(contentCollapse,height){let minHeight=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;contentCollapse.style.overflow="hidden",height&&(contentCollapse.classList.remove("collapse"),contentCollapse.style.height=height+"px"),minHeight&&(contentCollapse.style.minHeight=height+"px")}function indentSummary(courseDescItem,from,to){courseDescItem.classList.remove(from),courseDescItem.classList.add(to)}class SummaryItemController{constructor(sectionCollapse,sectionSummary,sectionContent){this.contentCollapse=sectionCollapse,this.sectionContent=sectionContent,this.sectionSummary=sectionSummary,this.height=0,this.contentCollapse.classList.contains("show")||(this.height=function(collapse,courseDescItem){collapse.classList.add("calc-height");let height=courseDescItem.scrollHeight+OneRem;return collapse.classList.remove("calc-height"),height}(this.contentCollapse,this.sectionSummary),this.sectionContent.setAttribute("style","display:none !important"),setCollapseStyles(this.contentCollapse,this.height),indentSummary(this.sectionSummary,MOVE_DIRECTION_MOVE_OUT,MOVE_DIRECTION_MOVE_IN)),(0,_jquery.default)(this.contentCollapse).on("hide.bs.collapse",(()=>{this.height=this.sectionSummary.offsetHeight+OneRem,indentSummary(this.sectionSummary,MOVE_DIRECTION_MOVE_OUT,MOVE_DIRECTION_MOVE_IN),this.contentCollapse.style.minHeight=this.height+"px"})),(0,_jquery.default)(this.contentCollapse).on("hidden.bs.collapse",(()=>{this.sectionContent.setAttribute("style","display:none !important"),setCollapseStyles(this.contentCollapse,this.height)})),(0,_jquery.default)(this.contentCollapse).on("shown.bs.collapse",(()=>{this.height=this.sectionSummary.offsetHeight+OneRem,setCollapseStyles(this.contentCollapse,null,this.height)})),(0,_jquery.default)(this.contentCollapse).on("show.bs.collapse",(()=>{this.sectionContent.style.removeProperty("display"),indentSummary(this.sectionSummary,MOVE_DIRECTION_MOVE_IN,MOVE_DIRECTION_MOVE_OUT)}))}}_exports.init=()=>{const sectionList=document.querySelectorAll("ul.topics li.section.course-section, ul.weeks li.section.course-section"),summaryCtrlList=new Array(sectionList.length);for(let idx=0;idx<sectionList.length;idx++){const sectionCollapse=sectionList[idx].querySelector(".course-content-item-content");if(sectionCollapse){const sectionSummary=sectionCollapse.querySelector(".summarytext");sectionSummary&&(summaryCtrlList[idx]=new SummaryItemController(sectionCollapse,sectionSummary,sectionCollapse.querySelector("ul.section")))}}}}));

//# sourceMappingURL=section-summary.min.js.map